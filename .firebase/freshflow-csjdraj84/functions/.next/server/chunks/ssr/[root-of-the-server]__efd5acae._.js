module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={ACTION_HMR_REFRESH:function(){return k},ACTION_NAVIGATE:function(){return h},ACTION_REFRESH:function(){return g},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return j},PrefetchKind:function(){return m}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g="refresh",h="navigate",i="restore",j="server-patch",k="hmr-refresh",l="server-action";var m=((d={}).AUTO="auto",d.FULL="full",d);("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={dispatchAppRouterAction:function(){return i},useActionQueue:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(46058)._(a.r(72131)),g=a.r(67009),h=null;function i(a){if(null===h)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});h(a)}function j(a){let[b,c]=f.default.useState(a.state);h=b=>a.dispatch(b,c);let d=(0,f.useMemo)(()=>b,[b]);return(0,g.isThenable)(d)?(0,f.use)(d):d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";let d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},58452,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("604f800e84172abc8e56fe61564b7bbabd91705da9",b.callServer,void 0,b.findSourceMapURL,"saveOrder");a.s(["saveOrder",()=>c])},81291,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987);function f({name:a,tamilName:c,imageUrl:d,selected:f,onToggle:g,index:h,quantity:i=0,onIncrement:j,onDecrement:k}){return(0,b.jsxs)("div",{onClick:g,className:`
        relative group cursor-pointer rounded-2xl p-4 transition-all duration-300
        border-2 flex flex-col items-center gap-3
        ${f?"bg-green-50/50 border-green-500 shadow-lg scale-[1.02]":"bg-white border-transparent hover:border-gray-200 hover:shadow-md"}
      `,children:[void 0!==h&&(0,b.jsx)("div",{className:"absolute top-2 left-2 bg-gray-100 text-gray-500 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full z-10",children:h}),(0,b.jsx)("div",{className:"relative w-32 h-32 mb-2 flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden",children:d?(0,b.jsx)(e.default,{src:d,alt:a,fill:!0,className:"object-contain mix-blend-multiply p-2",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}):(0,b.jsx)("span",{className:"text-4xl",children:"ðŸŽ"})}),(0,b.jsxs)("div",{className:"text-center w-full",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-gray-800 line-clamp-2 leading-tight mb-1",children:a}),c&&(0,b.jsx)("h3",{className:"text-xs font-medium text-gray-500 font-tamil",children:c})]}),(0,b.jsx)("div",{className:`
        absolute top-3 right-3 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors
        ${f?"bg-green-500 border-green-500":"border-gray-300 bg-white"}
      `,children:f&&(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),f&&j&&k&&(0,b.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white shadow-xl border border-gray-100 rounded-full flex items-center p-1.5 gap-3 animate-in slide-in-from-bottom-2 duration-200 z-10",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:k,className:"w-8 h-8 flex items-center justify-center bg-gray-50 hover:bg-red-50 hover:text-red-500 rounded-full text-gray-600 font-bold transition-colors",title:"Decrease",children:"-"}),(0,b.jsx)("span",{className:"font-bold text-lg text-gray-800 w-6 text-center tabular-nums",children:i}),(0,b.jsx)("button",{onClick:j,className:"w-8 h-8 flex items-center justify-center bg-green-600 hover:bg-green-700 rounded-full text-white font-bold transition-colors shadow-sm",title:"Increase",children:"+"})]})]})}var g=a.i(5050);let h=(0,g.createServerReference)("40e77819eef9e467b67a8f576cd66912b41758e37b",g.callServer,void 0,g.findSourceMapURL,"addItem");function i({onClose:a}){let[d,e]=(0,c.useState)(!1);async function f(b){e(!0),await h(b),e(!1),a()}return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Add New Item"}),(0,b.jsxs)("form",{action:f,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Item Name (English)"}),(0,b.jsx)("input",{name:"name",required:!0,className:"mt-1 block w-full rounded-lg border-2 border-gray-200 px-3 py-2 text-gray-900 focus:border-green-500 focus:outline-none",placeholder:"e.g., Bananas"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tamil Name (Optional)"}),(0,b.jsx)("input",{name:"tamilName",className:"mt-1 block w-full rounded-lg border-2 border-gray-200 px-3 py-2 text-gray-900 focus:border-green-500 focus:outline-none",placeholder:"e.g., à®µà®¾à®´à¯ˆà®ªà¯à®ªà®´à®®à¯"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Item Image (Optional)"}),(0,b.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:opacity-50",children:d?"Adding...":"Add Item"})]})]})]})})}var j=a.i(58452);function k({initialItems:a,initialOrder:e}){let g=(0,d.useRouter)(),[h,k]=(0,c.useState)(()=>{if(e?.items){let a={};return e.items.forEach(b=>{let c=b.name;c&&b.quantity&&(a[c]=b.quantity)}),a}return{}}),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("name"),[p,q]=(0,c.useState)("all"),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)("grid"),x=a=>{let b={...h};b[a]?delete b[a]:b[a]=1,k(b)},y=(a,b)=>{let c={...h},d=(c[a]||0)+b;d<=0?delete c[a]:c[a]=d,k(c)},z=async()=>{u(!0);let b=a.filter(a=>h[a.name]).map(a=>({...a,quantity:h[a.name]}));await (0,j.saveOrder)(b,e?.id),g.push("/"),u(!1)},A=a.filter(a=>{let b=a.name.toLowerCase().includes(l.toLowerCase())||a.tamilName&&a.tamilName.includes(l),c="all"===p||"selected"===p&&!!h[a.name];return b&&c}).sort((a,b)=>"name"===n?a.name.localeCompare(b.name):0),B=Object.keys(h).length;return(0,b.jsxs)("div",{className:"w-full pb-32",children:[r&&(0,b.jsx)(i,{onClose:()=>s(!1)}),(0,b.jsxs)("div",{className:"sticky top-0 bg-white/90 backdrop-blur-md p-4 z-10 shadow-sm rounded-xl mb-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Select Items"}),(0,b.jsxs)("p",{className:"text-gray-500",children:[B," items selected"]})]}),(0,b.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:0===B||t,onClick:z,children:t?"Saving...":e?"Update Order":"Place Order"})]}),(0,b.jsxs)("div",{className:"flex gap-4 items-center flex-wrap",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 transition-all"}),(0,b.jsx)("span",{className:"absolute left-3 top-3.5 text-gray-400",children:"ðŸ”"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-1 rounded-xl border border-gray-200 flex",children:[(0,b.jsx)("button",{onClick:()=>w("grid"),className:`p-2 rounded-lg transition-colors ${"grid"===v?"bg-white shadow text-green-700":"text-gray-400 hover:text-gray-600"}`,title:"Grid View",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,b.jsx)("button",{onClick:()=>w("list"),className:`p-2 rounded-lg transition-colors ${"list"===v?"bg-white shadow text-green-700":"text-gray-400 hover:text-gray-600"}`,title:"List View",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 py-3 px-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,b.jsx)("option",{value:"newest",children:"Newest"}),(0,b.jsx)("option",{value:"name",children:"A-Z"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-1 rounded-xl border border-gray-200 flex",children:[(0,b.jsx)("button",{onClick:()=>q("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"all"===p?"bg-white shadow text-green-700":"text-gray-500 hover:text-gray-700"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>q("selected"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"selected"===p?"bg-white shadow text-green-700":"text-gray-500 hover:text-gray-700"}`,children:"Selected"})]})]})]})]}),0===A.length?(0,b.jsxs)("div",{className:"text-center py-20 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"No items matched."}),(0,b.jsx)("button",{onClick:()=>s(!0),className:"text-green-600 font-bold hover:underline",children:"Add it manually?"})]}):"grid"===v?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:A.map((a,c)=>(0,b.jsx)(f,{index:c+1,name:a.name,tamilName:a.tamilName,imageUrl:a.imageUrl,selected:!!h[a.name],quantity:h[a.name]||0,onToggle:()=>x(a.name),onIncrement:b=>{b.stopPropagation(),y(a.name,1)},onDecrement:b=>{b.stopPropagation(),y(a.name,-1)}},a.name))}):(0,b.jsx)("div",{className:"flex flex-col gap-2",children:A.map(a=>{let c=!!h[a.name],d=h[a.name]||0;return(0,b.jsxs)("div",{onClick:()=>x(a.name),className:`flex items-center gap-4 p-3 rounded-xl border transition-all cursor-pointer ${c?"bg-green-50 border-green-200 shadow-sm":"bg-white border-gray-100 hover:border-green-200 hover:bg-gray-50"}`,children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden shrink-0 border border-gray-200",children:a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xl",children:"ðŸ“¦"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:`font-bold text-sm truncate ${c?"text-green-800":"text-gray-800"}`,children:a.name}),a.tamilName&&(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.tamilName})]}),(0,b.jsx)("div",{className:"flex items-center gap-3 shrink-0",onClick:a=>a.stopPropagation(),children:c?(0,b.jsxs)("div",{className:"flex items-center bg-white rounded-lg border border-green-200 shadow-sm overflow-hidden h-8",children:[(0,b.jsx)("button",{onClick:()=>y(a.name,-1),className:"w-8 h-full flex items-center justify-center hover:bg-green-50 text-green-700 transition-colors",children:"-"}),(0,b.jsx)("span",{className:"w-8 h-full flex items-center justify-center font-bold text-green-700 text-sm border-x border-green-100",children:d}),(0,b.jsx)("button",{onClick:()=>y(a.name,1),className:"w-8 h-full flex items-center justify-center hover:bg-green-50 text-green-700 transition-colors",children:"+"})]}):(0,b.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center text-transparent hover:border-green-400",children:(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 opacity-0 transition-opacity"})})})]},a.name)})}),(0,b.jsx)("button",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-xl flex items-center justify-center transition-transform hover:scale-105",title:"Add new item",children:(0,b.jsx)("span",{className:"text-3xl font-light mb-1",children:"+"})})]})}a.s(["default",()=>k],81291)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__efd5acae._.js.map